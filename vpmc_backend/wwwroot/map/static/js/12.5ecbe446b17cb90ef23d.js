webpackJsonp([12],{"6aJr":function(e,t){},E2Z6:function(e,t){},"Gmo/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("ZWk5"),r=n("Xxa5"),s=n.n(r),o=n("exGp"),c=n.n(o),i=n("gyMJ"),l=n("GQvZ"),u={name:"AdminDistrict",data:function(){return{adminInfo:void 0,county:null,town:null}},created:function(){var e=this;return c()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setGeoinfosData();case 2:case"end":return t.stop()}},t,e)}))()},computed:{infosFromTowns:function(){if(this.adminInfo){var e=this.adminInfo.getTownsInfoByCounty(this.county);return e||[]}return[]},currentInfo:function(){var e=this;if(this.infosFromTowns.length>0&&this.town)return this.infosFromTowns.find(function(t){return t.town===e.town})}},methods:{setGeoinfosData:function(){var e=this;return c()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.Location.getAdminGeoinfos();case 2:e.adminInfo=t.sent;case 3:case"end":return t.stop()}},t,e)}))()},handleClear:function(){this.county=null,this.town=null},handleSearchClick:function(){if(this.currentInfo){var e=this.currentInfo.latlng;l.a.VPMC.viewer.flyTo(e,15)}}}},d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"md-layout container"},[n("md-card",{staticClass:"md-layout-item"},[n("md-card-content",[e.adminInfo?n("md-field",{class:{"md-has-value":null!==e.county}},[n("label",{attrs:{for:"county"}},[e._v("縣市")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.county,expression:"county"}],staticClass:"custom-select",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.county=t.target.multiple?n:n[0]}}},e._l(e.adminInfo.counties,function(t,a){return n("option",{key:a,domProps:{value:t}},[e._v(e._s(t))])}),0)]):e._e(),e._v(" "),e.adminInfo?n("md-field",{class:{"md-has-value":null!==e.town}},[n("label",[e._v("鄉鎮市區")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.town,expression:"town"}],staticClass:"custom-select",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.town=t.target.multiple?n:n[0]}}},e._l(e.infosFromTowns,function(t,a){return n("option",{key:a,domProps:{value:t.town}},[e._v(e._s(t.town))])}),0)]):e._e()],1),e._v(" "),n("md-card-actions",[n("md-button",{staticClass:"vpmc-btn",on:{click:e.handleClear}},[e._v("清除")]),e._v(" "),n("md-button",{staticClass:"vpmc-btn",on:{click:e.handleSearchClick}},[e._v("查詢")])],1)],1)],1)},staticRenderFns:[]};var m=n("VU/8")(u,d,!1,function(e){n("E2Z6")},"data-v-1421ecee",null).exports,h=n("Dd8w"),f=n.n(h),v=n("nrd6"),p=n.n(v),_={name:"Address",data:function(){return{addr:"",search:{results:[],show:!1}}},beforeDestroy:function(){this.handleClear()},methods:{handleSearchClick:function(){var e=this;return c()(s.a.mark(function t(){var n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.handleClear(),t.next=3,i.a.Location.getGeoinfoFromAddr({oAddress:e.addr});case 3:n=t.sent,e.search.results=e.createPoints(n.AddressList),e.search.show=!0;case 6:case"end":return t.stop()}},t,e)}))()},handleClear:function(){this.search.results.forEach(function(e){l.a.VPMC.viewer.removeLayer(e.marker)}),this.search.results=[],this.search.show=!1},createPoints:function(e){var t=this;return e.map(function(e){var n=p.a.marker(new p.a.LatLng(e.Y,e.X));return n.bindPopup(e.FULL_ADDR),n.on("click",function(n){var a=e;t.$store.commit("widgetSidebar/setPayload",{key:"Info",payload:{properties:a}})}),l.a.VPMC.viewer.addLayer(n),f()({},e,{marker:n})})},handleSearchResultClick:function(e){var t=e.X,n=e.Y;e.marker.openPopup(),l.a.VPMC.viewer.flyTo(new p.a.LatLng(n,t),18)}}},C={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"md-layout container"},[n("md-card",{staticClass:"md-layout-item"},[n("md-card-content",[n("md-field",[n("label",[e._v("輸入門牌")]),e._v(" "),n("md-input",{model:{value:e.addr,callback:function(t){e.addr=t},expression:"addr"}})],1)],1),e._v(" "),n("md-card-actions",[n("md-button",{staticClass:"vpmc-btn",on:{click:e.handleClear}},[e._v("清除")]),e._v(" "),n("md-button",{staticClass:"vpmc-btn",on:{click:e.handleSearchClick}},[e._v("查詢")])],1)],1),e._v(" "),e.search.show?n("md-list",{staticClass:"search-list"},[n("md-subheader",[e._v("查詢結果")]),e._v(" "),e._l(e.search.results,function(t,a){return n("md-list-item",{key:a,on:{click:function(n){return e.handleSearchResultClick(t)}}},[n("span",{staticClass:"md-list-item-text"},[e._v(e._s(t.FULL_ADDR))])])})],2):e._e()],1)},staticRenderFns:[]};var w=n("VU/8")(_,C,!1,function(e){n("6aJr")},"data-v-147dce8a",null).exports,y=n("yp89"),k={name:"LandCode",data:function(){return{landNum:"臺北市華興段三小段142號",search:{results:[],show:!1}}},beforeDestroy:function(){this.handleClear()},methods:{handleSearchClick:function(){var e=this;return c()(s.a.mark(function t(){var n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.handleClear(),t.next=3,i.a.Location.getGeomByLands({"lands[]":e.landNum});case 3:n=t.sent,e.search.results=e.createGeometry(n),e.search.show=!0;case 6:case"end":return t.stop()}},t,e)}))()},handleClear:function(){this.search.results.forEach(function(e){l.a.VPMC.viewer.removeLayer(e.content)}),this.search.results=[],this.search.show=!1},createGeometry:function(e){var t=this;return e.features.map(function(e){var n=p.a.geoJSON({type:"FeatureCollection",features:[e]});return n.bindPopup(y.b.singlePackToTable(e.properties)),n.on("click",function(e){var n=e.layer.feature.properties;t.$store.commit("widgetSidebar/setPayload",{key:"Info",payload:{properties:n}})}),l.a.VPMC.viewer.addLayer(n),{content:n,title:e.properties.query}})},handleSearchResultClick:function(e){e.content.openPopup(),l.a.VPMC.viewer.flyToBounds(e.content.getBounds())}}},b={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"md-layout container"},[n("md-card",{staticClass:"md-layout-item"},[n("md-card-content",[n("md-field",[n("label",[e._v("輸入地號")]),e._v(" "),n("md-input",{attrs:{placeholder:"臺北市華興段三小段142號"},model:{value:e.landNum,callback:function(t){e.landNum=t},expression:"landNum"}})],1)],1),e._v(" "),n("md-card-actions",[n("md-button",{staticClass:"vpmc-btn",on:{click:e.handleClear}},[e._v("清除")]),e._v(" "),n("md-button",{staticClass:"vpmc-btn",on:{click:e.handleSearchClick}},[e._v("查詢")])],1)],1),e._v(" "),e.search.show?n("md-list",{staticClass:"search-list"},[n("md-subheader",[e._v("查詢結果")]),e._v(" "),e._l(e.search.results,function(t,a){return n("md-list-item",{key:a,on:{click:function(n){return e.handleSearchResultClick(t)}}},[n("span",{staticClass:"md-list-item-text"},[e._v(e._s(t.title))])])})],2):e._e()],1)},staticRenderFns:[]};var L=n("VU/8")(k,b,!1,function(e){n("p1tD")},"data-v-324389aa",null).exports,g={name:"Coords",data:function(){return{lat:"",lng:"",search:{results:[],show:!1}}},methods:{handleSubmit:function(){var e=this;return c()(s.a.mark(function t(){var n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.Location.getAddrfromXY({oPX:e.lng,oPY:e.lat});case 2:n=t.sent,e.handleClear(),e.search.results=e.createPoints(n.AddressList),e.search.show=!0;case 6:case"end":return t.stop()}},t,e)}))()},handleClear:function(){this.search.results.forEach(function(e){l.a.VPMC.viewer.removeLayer(e.marker)}),this.search.results=[],this.search.show=!1,this.lat="",this.lng=""},createPoints:function(e){var t=this;return e.map(function(e){var n=p.a.marker(new p.a.LatLng(e.Y,e.X));return n.bindPopup(e.FULL_ADDR),n.on("click",function(n){var a=e;t.$store.commit("widgetSidebar/setPayload",{key:"Info",payload:{properties:a}})}),l.a.VPMC.viewer.addLayer(n),f()({},e,{marker:n})})},handleSearchResultClick:function(e){var t=e.X,n=e.Y;e.marker.openPopup(),l.a.VPMC.viewer.flyTo(new p.a.LatLng(n,t),18)}}},P={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"md-layout container"},[n("md-card",{staticClass:"md-layout-item"},[n("md-card-content",[n("md-field",[n("label",[e._v("輸入經度")]),e._v(" "),n("md-input",{model:{value:e.lng,callback:function(t){e.lng=t},expression:"lng"}})],1),e._v(" "),n("md-field",[n("label",[e._v("輸入緯度")]),e._v(" "),n("md-input",{model:{value:e.lat,callback:function(t){e.lat=t},expression:"lat"}})],1)],1),e._v(" "),n("md-card-actions",[n("md-button",{staticClass:"vpmc-btn",on:{click:e.handleClear}},[e._v("清除")]),e._v(" "),n("md-button",{staticClass:"vpmc-btn",on:{click:e.handleSubmit}},[e._v("查詢")])],1)],1),e._v(" "),e.search.show?n("md-list",{staticClass:"search-list"},[n("md-subheader",[e._v("查詢結果")]),e._v(" "),e._l(e.search.results,function(t,a){return n("md-list-item",{key:a,on:{click:function(n){return e.handleSearchResultClick(t)}}},[n("span",{staticClass:"md-list-item-text"},[e._v(e._s(t.FULL_ADDR))])])})],2):e._e()],1)},staticRenderFns:[]};var x=n("VU/8")(g,P,!1,function(e){n("Xa3R")},"data-v-291423d8",null).exports,A=[{name:"行政區",comp_name:"AdminDistrict"},{name:"門牌",comp_name:"Address"},{name:"地號",comp_name:"LandCode"},{name:"座標",comp_name:"Coords"}],D={name:"Geolocation",data:function(){return{currentTab:A[0],tabs:A}},methods:{handleTabClick:function(e){this.currentTab=e}},components:{Tabs:a.a,AdminDistrict:m,Address:w,LandCode:L,Coords:x}},S={render:function(){var e=this.$createElement,t=this._self._c||e;return t("md-tabs",{staticClass:"custom-tabs"},this._l(this.tabs,function(e,n){return t("md-tab",{key:n,attrs:{id:e.name,"md-label":e.name}},[t(e.comp_name,{tag:"component"})],1)}),1)},staticRenderFns:[]};var R=n("VU/8")(D,S,!1,function(e){n("hIjq")},null,null);t.default=R.exports},Xa3R:function(e,t){},hIjq:function(e,t){},p1tD:function(e,t){}});
//# sourceMappingURL=12.5ecbe446b17cb90ef23d.js.map
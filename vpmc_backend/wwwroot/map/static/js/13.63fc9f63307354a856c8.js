webpackJsonp([13],{"/5kf":function(e,t){},"3/mG":function(e,t){},"41rc":function(e,t){},oOgW:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"LayerItem",data:function(){return{checked:!1}},props:{value:{type:Object},action:Object},mounted:function(){this.checked=this.value.show},updated:function(){this.checked=this.value.show},methods:{handleClick:function(){},handleCheck:function(e){this.action.onLayerCheck(this.checked,this.value),this.checked=this.value.show},handleOpacityPanel:function(){this.action.openOpacityPanel(this.value)}}},c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("md-list-item",{staticClass:"md-inset"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.checked)?e._i(e.checked,null)>-1:e.checked},on:{change:[function(t){var n=e.checked,a=t.target,c=!!a.checked;if(Array.isArray(n)){var i=e._i(n,null);a.checked?i<0&&(e.checked=n.concat([null])):i>-1&&(e.checked=n.slice(0,i).concat(n.slice(i+1)))}else e.checked=c},function(t){return e.handleCheck(t)}]}}),e._v(" "),n("md-menu",{attrs:{"md-direction":"bottom-end"}},[n("md-button",{staticClass:"md-icon-button",attrs:{"md-menu-trigger":""},on:{click:e.handleClick}},[n("md-icon",[e._v("menu")])],1),e._v(" "),n("md-menu-content",[n("md-menu-item",{on:{click:e.handleOpacityPanel}},[e._v("透明度")])],1)],1),e._v(" "),n("span",{staticClass:"md-list-item-text"},[e._v(e._s(e.value.name))])],1)},staticRenderFns:[]};var i=n("VU/8")(a,c,!1,function(e){n("3/mG")},"data-v-15143d4d",null).exports,o={name:"LayerList",props:{groupName:String,values:{type:Array,default:function(){}},action:Object},components:{LayerItem:i},methods:{handleCheck:function(e){this.$emit("onLayerCheck",e)}}},r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("md-list-item",{attrs:{"md-expand":"","md-expanded":!0}},[n("span",{staticClass:"md-list-item-text"},[e._v(e._s(e.groupName))]),e._v(" "),n("md-list",{staticClass:"layer-list",attrs:{slot:"md-expand"},slot:"md-expand"},e._l(e.values,function(t,a){return n("LayerItem",{key:a,attrs:{value:t,action:e.action}})}),1)],1)},staticRenderFns:[]};var s=n("VU/8")(o,r,!1,function(e){n("41rc")},"data-v-f58817c0",null).exports,l=n("GQvZ"),u={name:"OpacityPanel",data:function(){return{value:""}},props:{active:Boolean,layerInfo:Object},computed:{_active:{get:function(){return this.active},set:function(e){this.$parent.opacityPanel.show=e}}},watch:{layerInfo:{handler:function(){this.getOpacity()},deep:!0}},mounted:function(){this.getOpacity()},updated:function(){},methods:{getOpacity:function(){var e=l.a.VPMC.layerControl.get(this.layerInfo);this.value=e.content.options.opacity||"1"},handleInputChange:function(){l.a.VPMC.layerControl.get(this.layerInfo).content.setOpacity(this.value)},asdf:function(){}}},d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("md-dialog",{attrs:{"md-active":e._active},on:{"update:mdActive":function(t){e._active=t},"update:md-active":function(t){e._active=t}}},[n("md-dialog-title",[e._v("透明度")]),e._v(" "),n("md-content",[n("div",{staticClass:"form"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{type:"range",step:"0.1",min:"0",max:"1"},domProps:{value:e.value},on:{change:e.handleInputChange,__r:function(t){e.value=t.target.value}}}),e._v(" "),n("label",[e._v(e._s(e.value))])])])],1)},staticRenderFns:[]};var h=n("VU/8")(u,d,!1,function(e){n("/5kf")},"data-v-354aa51f",null).exports,m=n("M4fF"),p=(n("nrd6"),n("QM0W"),{name:"Layer",data:function(){return{groupedLayers:{},action:{},opacityPanel:{initvalue:"",show:!1,layerInfo:void 0}}},components:{LayerList:s,OpacityPanel:h},created:function(){this.action={onLayerCheck:this.onLayerCheck,openOpacityPanel:this.openOpacityPanel}},mounted:function(){this.setLayerList()},methods:{setLayerList:function(){var e=l.a.VPMC.layerControl;this.groupedLayers=Object(m.groupBy)(e.layerInfos,function(e){return e.group})},onLayerCheck:function(e,t){var n=l.a.VPMC.layerControl,a=n.get(t);a.show=e,a.zIndex=t.zIndex,n.setLayerList()},openOpacityPanel:function(e){this.opacityPanel.show=!0,this.opacityPanel.layerInfo=e}}}),v={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("md-list",{attrs:{"md-expand-single":!1}},e._l(e.groupedLayers,function(t,a){return n("LayerList",{key:a,attrs:{values:t,groupName:a,action:e.action}})}),1),e._v(" "),e.opacityPanel.layerInfo?n("OpacityPanel",{attrs:{active:e.opacityPanel.show,layerInfo:e.opacityPanel.layerInfo}}):e._e()],1)},staticRenderFns:[]},f=n("VU/8")(p,v,!1,null,null,null);t.default=f.exports}});
//# sourceMappingURL=13.63fc9f63307354a856c8.js.map